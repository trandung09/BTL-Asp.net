@model Sp

@{
    ViewBag.Title = "Admin - Sửa sản phẩm";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h2>Sửa sản phẩm</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        @Html.HiddenFor(model => model.Ma)

        <div class="form-group">
            <label class="control-label col-md-2" for="Ten">Tên sản phẩm</label>
            <div class="col-md-10">
                @Html.TextBoxFor(model => model.Ten, new { @class = "form-control", placeholder = "Nhập tên sản phẩm", required = "required" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="MoTa">Mô tả sản phẩm</label>
            <div class="col-md-10">
                @Html.TextAreaFor(model => model.MoTa, new { @class = "form-control", @rows = "4" })
                <script type="text/javascript">
                    CKEDITOR.replace("MoTa");
                </script>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="MaLoai">Mã loại</label>
            <div class="col-md-10">
                @Html.DropDownList("MaLoai", (SelectList)ViewBag.MaLoai, new { @class = "form-control" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="AnhNho">Ảnh đại diện</label>
            <div class="col-md-10">
                <div class="input-group">
                    @Html.TextBoxFor(model => model.AnhNho, new { @class = "form-control", id = "AnhNho" })
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" id="browse">Browse</button>
                    </span>
                </div>
                <img src="@Model.AnhNho" id="anhdaidien" width="50" height="50" style="margin-top: 10px;" />
            </div>
        </div>

        <script type="text/javascript">
            $("#browse").click(function () {
                var finder = new CKFinder();
                finder.selectActionFunction = function (fileUrl) {
                    $("#AnhNho").val(fileUrl);
                    $("#anhdaidien").attr("src", fileUrl);
                }
                finder.popup();
            });
        </script>

        <!-- Ảnh 1 -->
        <div class="form-group">
            <label class="control-label col-md-2" for="Anh1">Ảnh 1</label>
            <div class="col-md-10">
                <div class="input-group">
                    @Html.TextBoxFor(model => model.Anh1, new { @class = "form-control", id = "Anh1" })
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" id="browse1">Browse</button>
                    </span>
                </div>
                <img src="@Model.Anh1" id="anhdd1" width="50" height="50" style="margin-top: 10px;" />
            </div>
        </div>

        <script type="text/javascript">
            $("#browse1").click(function () {
                var finder = new CKFinder();
                finder.selectActionFunction = function (fileUrl) {
                    $("#Anh1").val(fileUrl);
                    $("#anhdd1").attr("src", fileUrl);
                }
                finder.popup();
            });
        </script>

        <!-- Ảnh 2 -->
        <div class="form-group">
            <label class="control-label col-md-2" for="Anh2">Ảnh 2</label>
            <div class="col-md-10">
                <div class="input-group">
                    @Html.TextBoxFor(model => model.Anh2, new { @class = "form-control", id = "Anh2" })
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" id="browse2">Browse</button>
                    </span>
                </div>
                <img src="@Model.Anh2" id="anhdd2" width="50" height="50" style="margin-top: 10px;" />
            </div>
        </div>

        <script type="text/javascript">
            $("#browse2").click(function () {
                var finder = new CKFinder();
                finder.selectActionFunction = function (fileUrl) {
                    $("#Anh2").val(fileUrl);
                    $("#anhdd2").attr("src", fileUrl);
                }
                finder.popup();
            });
        </script>

        <!-- Ảnh 3 -->
        <div class="form-group">
            <label class="control-label col-md-2" for="Anh3">Ảnh 3</label>
            <div class="col-md-10">
                <div class="input-group">
                    @Html.TextBoxFor(model => model.Anh3, new { @class = "form-control", id = "Anh3" })
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" id="browse3">Browse</button>
                    </span>
                </div>
                <img src="@Model.Anh3" id="anhdd3" width="50" height="50" style="margin-top: 10px;" />
            </div>
        </div>

        <script type="text/javascript">
            $("#browse3").click(function () {
                var finder = new CKFinder();
                finder.selectActionFunction = function (fileUrl) {
                    $("#Anh3").val(fileUrl);
                    $("#anhdd3").attr("src", fileUrl);
                }
                finder.popup();
            });
        </script>

        <!-- Các trường khác của form -->
        <div class="form-group">
            <label class="control-label col-md-2" for="Tskt">Thông số kỹ thuật</label>
            <div class="col-md-10">
                @Html.TextAreaFor(model => model.Tskt, new { @class = "form-control", @rows = "4" })
                <script type="text/javascript">
                    CKEDITOR.replace("Tskt");
                </script>
            </div>
        </div>

        <!-- Các trường khác tiếp tục như cũ -->
        <!-- Lưu, Trở về danh sách, v.v. -->
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Lưu" class="btn btn-success" />
            </div>
        </div>
    </div>
}

<div>
    <a asp-area="Admin" asp-action="Index" asp-controller="Product" class="btn btn-secondary">Trở về danh sách</a>
</div>
